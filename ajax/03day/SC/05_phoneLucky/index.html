<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>



</head>

<body>
    <h1>史上最智能的手机号码测吉凶----祖传算命----学IT来黑马！学算命也来黑马！</h1>
    <input type="text" id="phone" placeholder="请输入手机号码">
    <input type="button" id="search" value="查询">
    <hr>

    <p>手机号码：</p>
    <p>归属地：</p>
    <p>号码得分：</p>
    <p>吉凶论断：</p>
    <p>吉凶分析：</p>
    <p>性格分析：</p>
    <p>分析详情：</p>

</body>

</html>


<!-- 使用jquery来发送ajax请求解决 -->
<script src="jquery-1.12.4.js"></script>

<script>

    //找到所有p标签
    var pList = document.getElementsByTagName('p');

    //找到文本框
    var phone = document.getElementById('phone');

    function f1(obj) {

        console.log(obj);

        //把结果赋值到界面上
        // pList[0].innerHTML = "手机号码：" + obj.result.mobile;
        // pList[1].innerHTML = "归属地：" + obj.result.province + " " + obj.result.city; 
        // pList[2].innerHTML = "号码得分：" + obj.result.score;
        // pList[3].innerHTML ="吉凶论断：" + obj.result.luck;
        // pList[4].innerHTML ="吉凶分析：" + obj.result.content;
        // pList[5].innerHTML ="性格分析：" + obj.result.character;
        // pList[6].innerHTML ="性格详情：" + obj.result.characterdetail;
    }


    // //查询按钮的点击事件
    document.getElementById('search').onclick = function () {

        //点击按钮后才能有script标签，那么我们就自己用代码创建一个script标签
        var spt = document.createElement('script');
        spt.src = "http://api.jisuapi.com/mobileluck/query?mobile=" + phone.value + "&appkey=94c543ddb1a37c93&callback=f1";

        document.head.appendChild(spt);

    }
</script>